<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sending a document | Commercio.network Documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/icon.png">
    <meta name="description" content="Documentation for the Commercio.network blockchain.">
    
    <link rel="preload" href="/assets/css/0.styles.9b20ea9c.css" as="style"><link rel="preload" href="/assets/js/app.697bef67.js" as="script"><link rel="preload" href="/assets/js/2.8c16445b.js" as="script"><link rel="preload" href="/assets/js/38.b1230e07.js" as="script"><link rel="prefetch" href="/assets/js/10.427bacb1.js"><link rel="prefetch" href="/assets/js/11.47bf7778.js"><link rel="prefetch" href="/assets/js/12.aeeb8b7f.js"><link rel="prefetch" href="/assets/js/13.b795d882.js"><link rel="prefetch" href="/assets/js/14.831aa742.js"><link rel="prefetch" href="/assets/js/15.bf674e7d.js"><link rel="prefetch" href="/assets/js/16.0f5bd3a7.js"><link rel="prefetch" href="/assets/js/17.9671efb5.js"><link rel="prefetch" href="/assets/js/18.e37c359d.js"><link rel="prefetch" href="/assets/js/19.8d2772e0.js"><link rel="prefetch" href="/assets/js/20.2c28a09a.js"><link rel="prefetch" href="/assets/js/21.e371d32f.js"><link rel="prefetch" href="/assets/js/22.86c4e837.js"><link rel="prefetch" href="/assets/js/23.0edd0109.js"><link rel="prefetch" href="/assets/js/24.d834be2e.js"><link rel="prefetch" href="/assets/js/25.78201085.js"><link rel="prefetch" href="/assets/js/26.0f56ce7a.js"><link rel="prefetch" href="/assets/js/27.7248e570.js"><link rel="prefetch" href="/assets/js/28.a0653077.js"><link rel="prefetch" href="/assets/js/29.4ab14875.js"><link rel="prefetch" href="/assets/js/3.bfb1762a.js"><link rel="prefetch" href="/assets/js/30.c8b0faeb.js"><link rel="prefetch" href="/assets/js/31.f66ce67a.js"><link rel="prefetch" href="/assets/js/32.9997bf56.js"><link rel="prefetch" href="/assets/js/33.055bf78e.js"><link rel="prefetch" href="/assets/js/34.24c91200.js"><link rel="prefetch" href="/assets/js/35.8f0bca83.js"><link rel="prefetch" href="/assets/js/36.7ccd0de1.js"><link rel="prefetch" href="/assets/js/37.011a6243.js"><link rel="prefetch" href="/assets/js/39.4dba82a1.js"><link rel="prefetch" href="/assets/js/4.4a6c723f.js"><link rel="prefetch" href="/assets/js/40.edbe4b8b.js"><link rel="prefetch" href="/assets/js/41.c7842c5b.js"><link rel="prefetch" href="/assets/js/42.2289fd85.js"><link rel="prefetch" href="/assets/js/43.1774ecb3.js"><link rel="prefetch" href="/assets/js/44.65ea12e7.js"><link rel="prefetch" href="/assets/js/45.5bdf4c54.js"><link rel="prefetch" href="/assets/js/46.5a765adf.js"><link rel="prefetch" href="/assets/js/47.f294f381.js"><link rel="prefetch" href="/assets/js/48.b6012222.js"><link rel="prefetch" href="/assets/js/49.db515496.js"><link rel="prefetch" href="/assets/js/5.b23855b1.js"><link rel="prefetch" href="/assets/js/50.d58fc99b.js"><link rel="prefetch" href="/assets/js/51.192197e4.js"><link rel="prefetch" href="/assets/js/52.559cd3a4.js"><link rel="prefetch" href="/assets/js/53.60ca368a.js"><link rel="prefetch" href="/assets/js/6.b8a15190.js"><link rel="prefetch" href="/assets/js/7.593b529e.js"><link rel="prefetch" href="/assets/js/8.99ef0ccb.js"><link rel="prefetch" href="/assets/js/9.22b76ceb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b20ea9c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Commercio.network Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://commercio.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Commercio.network
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/commercionetwork/commercionetwork" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://commercio.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Commercio.network
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/commercionetwork/commercionetwork" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Nodes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nodes/" class="sidebar-link">Introduction</a></li><li><a href="/nodes/hardware-requirements.html" class="sidebar-link">Hardware requirements</a></li><li><a href="/nodes/full-node-installation.html" class="sidebar-link">Installing a full node</a></li><li><a href="/nodes/validator-node-installation.html" class="sidebar-link">Becoming a validator</a></li><li><a href="/nodes/validator-node-handling.html" class="sidebar-link">Handling a validator</a></li><li><a href="/nodes/validator-node-update.html" class="sidebar-link">Updating a validator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>App Developers</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/app_developers/" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SDK Developers</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/developers/" class="sidebar-link">Introduction</a></li><li><a href="/developers/create-sign-broadcast-tx.html" class="sidebar-link">Create, sign and send a transaction</a></li><li><a href="/developers/message-types.html" class="sidebar-link">Supported messages types</a></li><li><a href="/developers/listing-transactions.html" class="sidebar-link">Listing past transactions</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Modules</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/x/bank/" class="sidebar-link">Bank</a></li><li><a href="/x/government/" class="sidebar-link">Government</a></li><li><a href="/x/id/" class="sidebar-link">Id</a></li><li><a href="/x/docs/" aria-current="page" class="sidebar-link">Docs</a></li><li><a href="/x/pricefeed/" class="sidebar-link">Pricefeed</a></li><li><a href="/x/commerciomint/" class="sidebar-link">CommercioMint</a></li><li><a href="/x/memberships/" class="sidebar-link">Memberships</a></li><li><a href="/x/vbr/" class="sidebar-link">VBR</a></li><li><a href="/x/creditrisk/" class="sidebar-link">Creditrisk</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sending-a-document"><a href="#sending-a-document" class="header-anchor">#</a> Sending a document</h1> <p>In order to send a document you are required to have an identity with some tokens inside it.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>To know what an identity is, how to create it and how to get tokens, please refer to the
<a href="/x/id/tx/create-an-identity.html"><em>&quot;Creating an identity&quot;</em> section</a>.</p></div> <h2 id="transaction-message"><a href="#transaction-message" class="header-anchor">#</a> Transaction message</h2> <p>In order to properly send a transaction to share a document, you will need to create and sign the
following message.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commercio/MsgShareDocument&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sender&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Sender Did&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;recipients&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&lt;Recipient address&gt;&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Document UUID&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;content_uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Document content URI&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;content_uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Metadata content URI&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;schema&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Metadata schema definition URI&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Metadata schema version&gt;&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;schema_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Metadata schema type&gt;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;checksum&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Document content checksum value&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;algorithm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Document content checksum algorithm&gt;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;encryption_data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;keys&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;recipient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Recipient address&gt;&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Encrypted and encoded symmetric key value&gt;&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;encrypted_data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;&lt;Encrypted field identifier&gt;&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;do_sign&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;storage_uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uri://storage&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;signer_instance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;did S&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sdn_data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;firstName&quot;</span><span class="token punctuation">,</span>                
                <span class="token string">&quot;lastName&quot;</span><span class="token punctuation">,</span>                
                <span class="token string">&quot;sin&quot;</span><span class="token punctuation">,</span>                
                <span class="token string">&quot;email&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vcrId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;identity VCR Identifier&quot;</span>
        <span class="token property">&quot;certificateProfile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;one of the profiles supported by S&gt;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="fields-requirements"><a href="#fields-requirements" class="header-anchor">#</a> Fields requirements</h3> <table><thead><tr><th style="text-align:center;">Field</th> <th style="text-align:center;">Required</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>sender</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>recipients</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>uuid</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>content_uri</code></td> <td style="text-align:center;">No</td></tr> <tr><td style="text-align:center;"><code>metadata</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>checksum</code></td> <td style="text-align:center;">No</td></tr> <tr><td style="text-align:center;"><code>encryption_data</code></td> <td style="text-align:center;">No</td></tr></tbody></table> <h5 id="metadata"><a href="#metadata" class="header-anchor">#</a> <code>metadata</code></h5> <table><thead><tr><th style="text-align:center;">Field</th> <th style="text-align:center;">Required</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>content_uri</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>schema_type</code></td> <td style="text-align:center;">No *<sup>1</sup> *<sup>2</sup></td></tr> <tr><td style="text-align:center;"><code>schema</code></td> <td style="text-align:center;">No *<sup>1</sup></td></tr></tbody></table> <ul><li><p>*<sup>1</sup> The <code>schema_type</code> and <code>schema</code> fields are mutually exclusive.
This means that if the first one exists the second will not be used.</p></li> <li><p>*<sup>2</sup> You can read which <code>schema_type</code> values are supported inside
the <a href="/x/docs/metadata-schemes.html#supported-metadata-schemes">supported metadata schemes section</a></p></li></ul> <h6 id="metadata-schema"><a href="#metadata-schema" class="header-anchor">#</a> <code>metadata.schema</code></h6> <table><thead><tr><th style="text-align:center;">Field</th> <th style="text-align:center;">Required</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>uri</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>version</code></td> <td style="text-align:center;">Yes</td></tr></tbody></table> <h5 id="checksum"><a href="#checksum" class="header-anchor">#</a> <code>checksum</code></h5> <table><thead><tr><th style="text-align:center;">Field</th> <th style="text-align:center;">Required</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>value</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>algorithm</code></td> <td style="text-align:center;">Yes *<sup>1</sup></td></tr></tbody></table> <ul><li>*<sup>1</sup> You can read which <code>checksum.algorithm</code> values are supported inside the
<a href="#supported-checksum-algorithm">supported checksum algorithms section</a></li></ul> <h5 id="encryption-data"><a href="#encryption-data" class="header-anchor">#</a> <code>encryption_data</code></h5> <table><thead><tr><th style="text-align:center;">Field</th> <th style="text-align:center;">Required</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>key</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>encrypted_data</code></td> <td style="text-align:center;">Yes</td></tr></tbody></table> <h5 id="do-sign"><a href="#do-sign" class="header-anchor">#</a> <code>do_sign</code></h5> <table><thead><tr><th style="text-align:center;">Field</th> <th style="text-align:center;">Required</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>storage_uri</code></td> <td style="text-align:center;">Yes ??</td></tr> <tr><td style="text-align:center;"><code>signer_instance</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>sdn_data</code></td> <td style="text-align:center;">No</td></tr> <tr><td style="text-align:center;"><code>vcrId</code></td> <td style="text-align:center;">Yes</td></tr> <tr><td style="text-align:center;"><code>certificateProfile</code></td> <td style="text-align:center;">Yes/No ??</td></tr></tbody></table> <ul><li>storage_uri</li> <li>signer_instance</li> <li>sdn_data: contains an array with a list of required fields for Subject Distinguish Name. The names of fields are x509 standard compliant</li></ul> <h2 id="supported-checksum-algorithm"><a href="#supported-checksum-algorithm" class="header-anchor">#</a> Supported checksum algorithm</h2> <p>When computing the checksum of a document's contents, you must use one of the following supported checksum algorithms.<br>
Not using one of these will result in your transaction being rejected or mishandled by recipients.</p> <table><thead><tr><th style="text-align:center;">Algorithm</th> <th style="text-align:center;">Specification</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>md5</code></td> <td style="text-align:center;"><a href="https://www.ietf.org/rfc/rfc1321.txt" target="_blank" rel="noopener noreferrer">MD5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><code>sha-1</code></td> <td style="text-align:center;"><a href="https://tools.ietf.org/html/rfc3174" target="_blank" rel="noopener noreferrer">SHA-1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><code>sha-224</code></td> <td style="text-align:center;"><a href="https://tools.ietf.org/html/rfc4634" target="_blank" rel="noopener noreferrer">RFC 4634<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><code>sha-256</code></td> <td style="text-align:center;"><a href="https://tools.ietf.org/html/rfc4634" target="_blank" rel="noopener noreferrer">RFC 4634<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><code>sha-384</code></td> <td style="text-align:center;"><a href="https://tools.ietf.org/html/rfc4634" target="_blank" rel="noopener noreferrer">RFC 4634<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><code>sha-512</code></td> <td style="text-align:center;"><a href="https://tools.ietf.org/html/rfc4634" target="_blank" rel="noopener noreferrer">RFC 4634<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h4 id="checksum-validity-check"><a href="#checksum-validity-check" class="header-anchor">#</a> Checksum validity check</h4> <p>Please note that, when sending a document that has an associated checksum, the validity of the checksum itself is
checked only formally. This means that we only check that the hash value has a valid length, but we do not check
if the given has is indeed the hash of the document's content. It should be the client responsibility to perform this
check.</p> <h2 id="encrypting-the-data"><a href="#encrypting-the-data" class="header-anchor">#</a> Encrypting the data</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The following is just an example on how to do file encryption, you're free to use any other algorithm!</p></div> <p>In order to properly encrypting the data that you want to avoid being shared publicly,
the following procedure should be followed.</p> <p>We'll use AES-256 in CBC mode to encrypt a file, and let the recipient decrypt it by sharing with
it the AES encryption key.</p> <ol><li><p>Generate a safe AES-256 encryption key. A key size of 256 bits is recommended.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>aes_key = get_random_aes_key(key_size = 256)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Use the AES key to encrypt the data you desire using the AES-256 CBC method.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>encrypted_data = aes_encrypt_cbc(
  key = aes_key, 
  initialization_vector = null
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Encrypt the AES-256 key using the recipient's public encryption key</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>encrypted_aes_key = rsa_encrypt(
  key = recipient.public_rsa_encryption_key,
  value = aes_key
)    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Encode the encrypted AES-256 key</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>encoded_encryption_key = hex_encode(encrypted_aes_key)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Compose the encryption data</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;encryption_data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;keys&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;recipient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Recipient address&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Hex encoded encryption key&gt;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;encrypted_data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&lt;Your encrypted data identifier&gt;&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol> <p>The <code>encrypted_data</code> field does not contain the encrypted payload itself, but rather denotes what message property is encrypted with <code>aes_key</code>.</p> <p><code>encrypted_data</code> only accepts the following identifiers:</p> <ul><li><code>content_uri</code></li> <li><code>metadata.content_uri</code></li> <li><code>metadata.schema.uri</code></li></ul> <p>A special identifier, <code>content</code>, can be used to specify that <code>aes_key</code> has been used to encrypt a file exchanged by other means of communication.</p> <h3 id="supported-encrypted-data"><a href="#supported-encrypted-data" class="header-anchor">#</a> Supported encrypted data</h3> <p>Please note that when specifying which data you have encrypted for the document recipient, you need to use one or
more of the following identifiers inside the <code>encryption_data.encrypted_data</code> field.<br>
Inserting other non supported values inside such a field will result in the transactions being rejected as not valid.</p> <table><thead><tr><th style="text-align:center;">Identifier</th> <th style="text-align:left;">Referenced data</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>content</code></td> <td style="text-align:left;">Document's file contents</td></tr> <tr><td style="text-align:center;"><code>content_uri</code></td> <td style="text-align:left;">Value of the <code>content_uri</code> field</td></tr> <tr><td style="text-align:center;"><code>metadata.content_uri</code></td> <td style="text-align:left;">Value of the <code>content_uri</code> field inside the <code>metadata</code> object</td></tr> <tr><td style="text-align:center;"><code>metadata.schema.uri</code></td> <td style="text-align:left;">Value of the <code>uri</code> field inside the <code>metadata</code>'s <code>schema</code> sub-object</td></tr></tbody></table> <h2 id="action-type"><a href="#action-type" class="header-anchor">#</a> Action type</h2> <p>If you want to <a href="/developers/listing-transactions.html">list past transactions</a> including this kind of message,
you need to use the following <code>message.action</code> value:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>shareDocument
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="transaction-cost"><a href="#transaction-cost" class="header-anchor">#</a> Transaction cost</h2> <p>To make sure every person on the network has predictable costs when sending a document, you are required to set
a minimum <code>fee.amount</code> value inside the transaction when using the <code>commercio/MsgShareDocument</code> message type.</p> <p>This minimum fee value is always equivalent at 0.01 euro and can be paid in two different methods:</p> <ol><li>Using <code>10000uccc</code>, which are millionth of Commercio Cash Credits.<br>
In order to know how to get the Commercio Cash Credits, please refer to the <a href="/x/commerciomint/tx/open-cdp.html"><em>&quot;Opening a CDP&quot;</em> page</a></li> <li>Using the 0.01 euro equivalent of Commercio Tokens.<br>
Please note that the usage of such tokens is discouraged as it is more difficult to properly have an estimate on how
many tokens are needed. When using it you should set a 10% more of the minimum tokens required.</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/commercionetwork/commercionetwork/edit/master/docs/x/docs/tx/send-document.md" target="_blank" rel="noopener noreferrer">Edit this page on Github</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/17/2020, 7:18:48 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.697bef67.js" defer></script><script src="/assets/js/2.8c16445b.js" defer></script><script src="/assets/js/38.b1230e07.js" defer></script>
  </body>
</html>
